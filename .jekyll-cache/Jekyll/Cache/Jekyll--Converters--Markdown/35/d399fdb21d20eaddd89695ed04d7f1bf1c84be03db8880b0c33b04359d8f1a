I"î]<blockquote>
  <p>95.ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œç”Ÿæˆæ‰€æœ‰ç”± 1 â€¦ n ä¸ºèŠ‚ç‚¹æ‰€ç»„æˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p>

  <p>96.ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œæ±‚ä»¥ 1 â€¦ n ä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘ç§ï¼Ÿ</p>

  <blockquote>
    <p>ç¤ºä¾‹:</p>

    <p>è¾“å…¥: 3</p>

    <p>95.è¾“å‡º:
[
 [1,null,3,2],
 [3,2,null,1],
 [3,1,null,null,2],
 [2,1,3],
 [1,null,2,null,3]
]</p>

    <p>96.è¾“å‡º: 5</p>

    <p>è§£é‡Š:</p>

    <p>ä»¥ä¸Šçš„è¾“å‡ºå¯¹åº”ä»¥ä¸‹ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘ï¼š</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   1         3     3      2      1
    \       /     /      / \      \
     3     2     1      1   3      2
    /     /       \                 \
   2     1         2                 3
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<p>æˆ‘æ„Ÿè§‰ä¹‹å‰çš„å­¦ä¹ æ›²çº¿æœ‰ç‚¹å¤ªå¹³å¦äº†,ä¸ºäº†é€‚å½“å¢å¤§å­¦ä¹ æ›²çº¿æ–œç‡,æˆ‘æŠŠLeetcodeæ—¥å¿—æ¨¡æ¿ç”Ÿæˆå™¨å‡çº§äº†,ä»ç°åœ¨å¼€å§‹,é¢˜å·ä¸ä¼šé¡ºåºå¢å‡,è€Œæ˜¯éšæœºäº§ç”Ÿä¸€ä¸ªé¢˜å·,åŒæ—¶äº§æˆç‰¹å®šé¢˜å·çš„æ¦‚ç‡ä¸é¢˜å·å¤§å°æˆçº¿æ€§è´Ÿç›¸å…³.è¿™æ ·æ„Ÿè§‰å¥½ç©ç‚¹.</p>

<p>ç¬¬ä¸€ä¸ªå¹¸è¿å„¿æ˜¯95,çœ‹äº†ä¸€çœ¼é¢˜å†³å®šæŠŠå®ƒå’Œ96ä¸€èµ·è§£å†³.</p>

<p>è¿™ä¸¤é“é¢˜éƒ½æ˜¯BST,å…ˆæ‰¾æœ‰å¤šå°‘ç§å¯èƒ½,å†æŠŠå®ƒä»¬ç”Ÿæˆå‡ºæ¥.</p>

<p>å…ˆæ¥è§£å†³æ•°æ•°çš„é—®é¢˜.</p>

<h3 id="1-åŠ¨æ€è§„åˆ’96">1. åŠ¨æ€è§„åˆ’(<em>96</em>)</h3>

<p>åŠ¨æ€è§„åˆ’çš„å…³é”®åœ¨äºåˆ†å¯¹å­é—®é¢˜,æ‰€è°“divide.</p>

<p>é¦–å…ˆç”³æ˜ä¸¤ä¸ªçŠ¶æ€:</p>
<ul>
  <li>A<sub>(n)</sub> è¡¨ç¤º ä»¥1~nä¸ºèŠ‚ç‚¹ç»„æˆçš„BSTç§æ•°</li>
  <li>B<sub>(i,n)</sub>è¡¨ç¤º æ ¹èŠ‚ç‚¹ä¸ºiæ—¶,ä»¥1~nä¸ºèŠ‚ç‚¹ç»„æˆçš„BSTç§æ•°</li>
</ul>

<p>é‚£ä¹ˆæœ‰:</p>
<ul>
  <li>
    <p>A<sub>(n)</sub> =  <img src="https://www.zhihu.com/equation?tex= \sum_{i=1}^{i=n}B_(i,n)" /></p>
  </li>
  <li>
    <p>B<sub>(i,n)</sub> =  A<sub>(i-1)</sub> * A<sub>(n-i)</sub></p>
  </li>
</ul>

<p>è¿™åˆ†åˆ«æ˜¯ç”±äº:</p>
<ul>
  <li>è®¡ç®—A<sub>(n)</sub>,åªéœ€é™åˆ¶æ ¹èŠ‚ç‚¹ä¸º(1~n),åˆ™å¯åˆ†ä¸ºnä¸ªå­é—®é¢˜,å³è½¬åŒ–ä¸ºæ±‚B</li>
  <li>è®¡ç®—B<sub>(i,n)</sub>,åªéœ€åˆ†å¼€è€ƒè™‘å·¦å­æ ‘,å’Œå³å­æ ‘.å³è½¬åŒ–ä¸ºæ±‚A</li>
</ul>

<p>é—®é¢˜å°±è§£å†³äº†</p>

<p>ä¸ºäº†æ–¹ä¾¿ç†è§£,æ±‚è§£æµç¨‹æ˜¯:
A<sub>(1)</sub> -&gt; B<sub>(1,2)</sub>&amp;B<sub>(2,2)</sub> -&gt; A<sub>(2)</sub> -&gt; B<sub>(1,3)</sub>&amp;B<sub>(2,3)</sub>&amp;B<sub>(3,3)</sub> -&gt; A<sub>(3)</sub> -&gt; â€¦â€¦</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">numTrees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
      <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># a[i] = A(i)
</span>      <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
      <span class="n">temp</span> <span class="o">=</span><span class="mi">0</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
          <span class="n">temp</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="p">]</span>
        <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="p">,</span><span class="mi">0</span>
      <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
</code></pre></div></div>

<blockquote>
  <p>æ‰§è¡Œç”¨æ—¶: 52 ms, åœ¨Unique Binary Search Treesçš„Python3æäº¤ä¸­å‡»è´¥äº†13.54% çš„ç”¨æˆ·</p>

  <p>å†…å­˜æ¶ˆè€—: 13.3 MB, åœ¨Unique Binary Search Treesçš„Python3æäº¤ä¸­å‡»è´¥äº†0.00% çš„ç”¨æˆ·</p>
</blockquote>

<hr />
<h3 id="2æ‰“è¡¨96">2.æ‰“è¡¨(<em>96</em>)</h3>
<p>ä½ ä¹Ÿçœ‹åˆ°äº†,æ–¹æ³•ä¸€çš„æ•ˆæœä¸å¤ªå¥½,è¿™äº›äººæ˜¯æ€ä¹ˆæŠŠæ—¶é—´,å†…å­˜åˆ·ä¸Šå»çš„?</p>

<p>æˆ‘å†³å®šæ‰“è¡¨è¯•ä¸‹,å…ˆç”¨è‡ªå·±ç”µè„‘è·‘ä¸€éè¡¨:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">numTrees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># a[i] = A(i)
</span>        <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">temp</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span><span class="p">]</span>
            <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">code</span> <span class="o">=</span> <span class="s">'''
    class Solution(object):
        def numTrees(self, n):
            result = {}
            return result[n]
    '''</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Solution</span><span class="p">()</span><span class="o">.</span><span class="n">numTrees</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="n">code</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="p">)))</span>

</code></pre></div></div>

<p>ç„¶åæŠŠä¸‹é¢è¿™æ®µä»£ç ä¸¢è¿›å»è·‘,ç»“æœå‘ç°æ—¶é—´å†…å­˜ä¸å˜.</p>

<p>æ˜¯å¹³å°å´©äº†?</p>

<p>è¿˜æ˜¯æˆ‘æ²¡å……é’±?</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">numTrees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">429</span><span class="p">,</span> <span class="mi">1430</span><span class="p">,</span> <span class="mi">4862</span><span class="p">,</span> <span class="mi">16796</span><span class="p">,</span> <span class="mi">58786</span><span class="p">,</span> <span class="mi">208012</span><span class="p">,</span> <span class="mi">742900</span><span class="p">,</span> <span class="mi">2674440</span><span class="p">,</span> <span class="mi">9694845</span><span class="p">,</span> <span class="mi">35357670</span><span class="p">,</span> <span class="mi">129644790</span><span class="p">,</span> <span class="mi">477638700</span><span class="p">,</span> <span class="mi">1767263190</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
</code></pre></div></div>

<blockquote>
  <p>æ‰§è¡Œç”¨æ—¶: 80 ms, åœ¨Unique Binary Search Treesçš„Python3æäº¤ä¸­å‡»è´¥äº†2.59% çš„ç”¨æˆ·</p>

  <p>å†…å­˜æ¶ˆè€—: 13.2 MB, åœ¨Unique Binary Search Treesçš„Python3æäº¤ä¸­å‡»è´¥äº†0.00% çš„ç”¨æˆ·</p>
</blockquote>

<hr />
<h3 id="3-åŠ¨æ€è§„åˆ’-é€’å½’95">3. åŠ¨æ€è§„åˆ’-&gt;é€’å½’(<em>95</em>)</h3>

<p>ä¸ç®¡äº†,åæ­£è¿™é“é¢˜æˆ‘ä¼šäº†,å¹³å°æ€ä¹ˆå¼„å‡ºæ¥çš„é¬¼æˆç»©æˆ‘ä¹Ÿæ˜¯å½»åº•æƒ³ä¸æ˜ç™½äº†,ç»§ç»­åšä¸‹ä¸€é“</p>

<p>95å’Œ96å·®ä¸å¤š,ä¸åŒçš„æ˜¯éœ€è¦æŠŠç»“æ„ä¹Ÿä¿å­˜ä¸‹æ¥,</p>

<p>æŒ‰ç…§åŸæ¥çš„æ€è·¯,å¼•å…¥ä¸€ä¸ªtree_listæ‹¿æ¥å­˜ç»“æ„,ç›´æ¥å†™,å‘ç°å…¶å®è´¼éº»çƒ¦,ä¸è¦ç›¸ä¿¡â€çœ‹æ‡‚96å°±è¡Œ,95å†™èµ·æ¥å¾ˆç®€å•â€</p>

<p>æƒ³äº†å¾ˆä¹…,å‘ç°åªæœ‰é€’å½’å¤§æ³•å¥½,æ€è·¯æ˜¯ä¸€æ ·çš„,åªä¸è¿‡æ˜¯ç”¨é€’å½’æ¥å†™è€Œå·²,åœ¨è¿™ä¸ªæ–¹æ³•ä¹‹åæˆ‘å°†è¡¥ä¸Šä¸€ä¸ª96-é€’å½’çš„ä»£ç </p>

<p>æˆ‘æ˜¯å…ˆçœ‹äº†<a href="https://blog.csdn.net/fuxuemingzhu/article/details/80778651">è¿™é‡Œ</a>çš„ä»£ç å†æ¥å†™çš„,ç»“æœæ— è®ºæ€ä¹ˆå†™éƒ½å’ŒåŸæ¥çš„ä¸€æ ·,å°±åƒæ˜¯ç›´æ¥copyçš„â€¦</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">generateTrees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TreeNode</span><span class="p">]:</span>
      <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="p">[]</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generateTreesR</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">generateTreesR</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;</span> <span class="n">right</span><span class="p">:</span><span class="k">return</span> <span class="p">[</span><span class="bp">None</span><span class="p">]</span>
      <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
          <span class="n">left_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generateTreesR</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
          <span class="n">right_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generateTreesR</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
          <span class="k">for</span> <span class="n">left_node</span> <span class="ow">in</span> <span class="n">left_nodes</span><span class="p">:</span>
              <span class="k">for</span> <span class="n">right_node</span> <span class="ow">in</span> <span class="n">right_nodes</span><span class="p">:</span>
                  <span class="n">root</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                  <span class="n">root</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">left_node</span>
                  <span class="n">root</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">right_node</span>
                  <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>

<blockquote>
  <p>æ‰§è¡Œç”¨æ—¶: 84 ms, åœ¨Unique Binary Search Trees IIçš„Python3æäº¤ä¸­å‡»è´¥äº†58.08% çš„ç”¨æˆ·</p>

  <p>å†…å­˜æ¶ˆè€—: 15 MB, åœ¨Unique Binary Search Trees IIçš„Python3æäº¤ä¸­å‡»è´¥äº†0.00% çš„ç”¨æˆ·</p>
</blockquote>

<h1 id="4-ç›´æ¥é€’å½’96">4. ç›´æ¥é€’å½’(<em>96</em>)</h1>
<p>ç°åœ¨éœ€è¦æ„é€ ä¸€ä¸ªé€’å½’å‡½æ•°,å®ƒèƒ½è®¡ç®—å‡º(left,right)ä¹‹é—´çš„æ‰€æœ‰èŠ‚ç‚¹çš„BSTç§æ•°,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">numTrees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numTreesR</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">numTreesR</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">):</span>
      <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;</span> <span class="n">right</span><span class="p">:</span><span class="k">return</span> <span class="mi">1</span>
      <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="n">right</span><span class="p">:</span><span class="k">return</span> <span class="mi">1</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
          <span class="n">left_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">numTreesR</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
          <span class="n">right_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">numTreesR</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
          <span class="n">result</span> <span class="o">+=</span> <span class="n">right_num</span><span class="o">*</span><span class="n">left_num</span>
      <span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>
<blockquote>
  <p>ç­”æ¡ˆæ­£ç¡®,ä½†æ—¶é—´è¶…æ ‡äº†,æœªé€šè¿‡</p>
</blockquote>

<h1 id="5-å¸¦å¤‡å¿˜å½•çš„é€’å½’96">5. å¸¦å¤‡å¿˜å½•çš„é€’å½’(<em>96</em>)</h1>

<p>æ—¢ç„¶ç›´æ¥é€’å½’é€šä¸è¿‡,é‚£å°±æ˜¯æ—¶å€™å¬å”¤å­—å…¸äº†</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">dic</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">numTrees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numTreesR</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">numTreesR</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">left</span><span class="p">,</span><span class="n">right</span><span class="p">):</span>
      <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="k">if</span> <span class="n">left</span> <span class="o">&gt;</span> <span class="n">right</span><span class="p">:</span><span class="k">return</span> <span class="mi">1</span>
      <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="n">right</span><span class="p">:</span><span class="k">return</span> <span class="mi">1</span>
      <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">left</span><span class="p">)</span><span class="o">+</span><span class="s">","</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">right</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">left</span><span class="p">)</span><span class="o">+</span><span class="s">","</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">right</span><span class="p">)]</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
          <span class="n">left_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">numTreesR</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
          <span class="n">right_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">numTreesR</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
          <span class="n">result</span> <span class="o">+=</span> <span class="n">right_num</span><span class="o">*</span><span class="n">left_num</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">dic</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">left</span><span class="p">)</span><span class="o">+</span><span class="s">","</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">right</span><span class="p">)]</span> <span class="o">=</span><span class="n">result</span>
      <span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>
<blockquote>
  <p>æ‰§è¡Œç”¨æ—¶: 64 ms, åœ¨Unique Binary Search Treesçš„Python3æäº¤ä¸­å‡»è´¥äº†5.19% çš„ç”¨æˆ·</p>

  <p>å†…å­˜æ¶ˆè€—: 13.1 MB, åœ¨Unique Binary Search Treesçš„Python3æäº¤ä¸­å‡»è´¥äº†0.00% çš„ç”¨æˆ·</p>
</blockquote>
:ET