I"™<blockquote>
  <p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ä½ å¯ä»¥å‡è®¾ s çš„æœ€å¤§é•¿åº¦ä¸º 1000ã€‚</p>
</blockquote>

<blockquote>
  <p>ç¤ºä¾‹ 1ï¼š</p>
</blockquote>

<blockquote>
  <blockquote>
    <p>è¾“å…¥: â€œbabadâ€</p>

    <p>è¾“å‡º: â€œbabâ€</p>

    <p>æ³¨æ„: â€œabaâ€ ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚</p>
  </blockquote>
</blockquote>

<h3 id="1ååºæœ€é•¿å…¬å…±å­—ä¸²">1.ååºæœ€é•¿å…¬å…±å­—ä¸²&amp;</h3>

<p>æœ€é•¿å…¬å…±å­ä¸²æ˜¯æˆ‘ä»¬ä¸€ä¸ªæ¯”è¾ƒç†Ÿæ‚‰çš„é—®é¢˜,æ‰€ä»¥æˆ‘æƒ³å°½é‡å¾€ä¸Šé </p>

<p>å¾ˆæ˜æ˜¾,å›æ–‡ä¸²æ­£è¯»åè¯»éƒ½æ˜¯ä¸€æ ·çš„,æ‰€ä»¥(æ˜¯å›æ–‡ä¸²)-&gt;(ååºæ˜¯å…¬å…±å­—ä¸²),è€Œå€’è¿‡æ¥ä¸ä¸€å®šæˆç«‹,æ‰€ä»¥(ååºæ˜¯å…¬å…±å­—ä¸²)çš„å­ä¸²é›†åˆåŒ…å«äº†(å›æ–‡ä¸²)å­ä¸²é›†,é‚£æˆ‘ä»¬å°±æ‰¾å‰è€…ä¸­æœ€é•¿çš„,å†åˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²,ä¸æ˜¯å°±å†æ‰¾ä¸‹ä¸€ä¸ªæœ€é•¿çš„,ç›´è‡³æ‰¾åˆ°</p>

<p>æ—¢ç„¶ç”¨åˆ°äº†,å°±å°±å…ˆæŠŠæœ€é•¿å…¬å…±å­ä¸²,æœ€é•¿å…¬å…±å­åºåˆ—å†™ä¸€é</p>

<ul>
  <li>æœ€é•¿å…¬å…±å­ä¸²(The Longest Common Substring)
ä¸¤ä¸ªå­—ç¬¦ä¸²å¼ æˆä¸€ä¸ªäºŒç»´åŒºåŸŸ,åŒºåŸŸä¸­æ¯ä¸ªç‚¹è®°å½•å¯¹åº”çš„ä¸¤ä¸ªå­—ç¬¦çš„åŒ¹é…çŠ¶å†µ(1 or 0),ç„¶åå¯»æ‰¾æœ€å¤§çš„å¯¹è§’çº¿ä¸º1(éƒ½åŒ¹é…ä¸Šäº†)çš„å­åŒºåŸŸ,æ—¢æ˜¯æœ€å¤§å…¬å…±å­—ä¸²</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">find_lcsubstr</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">):</span>
	<span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
	<span class="nb">max</span><span class="o">=</span><span class="mi">0</span>
	<span class="n">p</span><span class="o">=</span><span class="mi">0</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)):</span>
		<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)):</span>
			<span class="k">if</span> <span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">s2</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
				<span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span>
				<span class="k">if</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;</span><span class="nb">max</span><span class="p">:</span>
					<span class="nb">max</span><span class="o">=</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
					<span class="n">p</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span>
	<span class="k">return</span> <span class="n">s1</span><span class="p">[</span><span class="n">p</span><span class="o">-</span><span class="nb">max</span><span class="p">:</span><span class="n">p</span><span class="p">],</span><span class="nb">max</span>

</code></pre></div></div>

<ul>
  <li>æœ€é•¿å…¬å…±å­åºåˆ— (The Longest Common Subsequence)
æˆ‘ä¸“é—¨å†™äº†ä¸€ç¯‡<a href="https://loopyme.github.io/2019/02/25/lcs/">Blog</a>æ¥åˆ†ææœ€é•¿å…¬å…±å­åºåˆ—çš„åŠ¨æ€è§„åˆ’ç®—æ³•</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">find_lcseque</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">):</span>
  <span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
  <span class="k">for</span> <span class="n">p1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">p2</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s2</span><span class="p">)):</span>
      <span class="k">if</span> <span class="n">s1</span><span class="p">[</span><span class="n">p1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s2</span><span class="p">[</span><span class="n">p2</span><span class="p">]:</span>
        <span class="n">matrix</span><span class="p">[</span><span class="n">p1</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">p2</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="n">p1</span><span class="p">][</span><span class="n">p2</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="n">matrix</span><span class="p">[</span><span class="n">p1</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">p2</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">p1</span><span class="p">][</span><span class="n">p2</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">matrix</span><span class="p">[</span><span class="n">p1</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">p2</span><span class="p">])</span>
  <span class="k">return</span> <span class="n">matrix</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<p>ç„¶åå°±æ˜¯è¿™é“é¢˜çš„ä»£ç äº†.ä¸å¾—ä¸æçš„æ˜¯,è™½ç„¶æˆ‘é¢„æ„Ÿåˆ°äº†è¿™ä¸ªç®—æ³•ä¼šè¡¨ç°å¾ˆå·®,ä½†æ²¡æƒ³åˆ°ä¼šé‚£ä¹ˆå·®â€¦</p>

<p>äº‹åå†·é™åˆ†æäº†ä¸€æ³¢,å¤§é‡æ—¶é—´æ¶ˆè€—åœ¨äº†è®°å½•æœ€é•¿å…¬å…±å­ä¸²çš„æ—¶å€™,æ¯•ç«Ÿæ˜¯O(n^2)çš„æ—¶é—´å¤æ‚åº¦,è€Œæ„å»ºä¸€ä¸ªæœ€é•¿å…¬å…±å­ä¸²å¤‡å¿˜å½•æ—¶é—´æ¶ˆè€—æ¯”å¯»æ‰¾æœ€é•¿å­ä¸²å¤šä¸€äº›,å¯¼è‡´è¿™æ®µä»£ç å¾ˆåƒåœ¾</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">longestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="s">'str'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s">'str'</span><span class="p">:</span>
    <span class="n">matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="n">dic</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">s1</span><span class="o">=</span><span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">s</span><span class="o">==</span><span class="s">""</span><span class="p">:</span><span class="k">return</span> <span class="s">""</span>
    <span class="k">if</span> <span class="n">s</span><span class="o">==</span><span class="n">s1</span><span class="p">:</span><span class="k">return</span> <span class="n">s</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)):</span>
      <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">s1</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
          <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span>
          <span class="k">if</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">dic</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">dic</span><span class="p">[</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
          <span class="k">else</span><span class="p">:</span>
            <span class="n">dic</span><span class="p">[</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>

    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>        
      <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">dic</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">dic</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span> <span class="c1">#æ£€éªŒæœ€é•¿å­åºåˆ—æ˜¯å¦å›æ–‡
</span>        <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
          <span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="n">index</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="k">pass</span>    
</code></pre></div></div>
<blockquote>
  <p>æ‰§è¡Œç”¨æ—¶: 10148 ms, åœ¨Longest Palindromic Substringçš„Python3æäº¤ä¸­å‡»è´¥äº†2.15% çš„ç”¨æˆ·</p>
</blockquote>

<blockquote>
  <p>å†…å­˜æ¶ˆè€—: 142.4 MB, åœ¨Longest Palindromic Substringçš„Python3æäº¤ä¸­å‡»è´¥äº†10.66% çš„ç”¨æˆ·</p>
</blockquote>

<hr />
<h3 id="2æš´åŠ›">2.æš´åŠ›</h3>
<p>å¿ƒæ€å´©äº†çš„æˆ‘å»çœ‹å®˜æ–¹é¢˜è§£,å‘ç°è¿˜æ˜¯ä¸€å¦‚æ—¢å¾€çš„æœ‰æš´åŠ›æ³•</p>

<p>è¦æ˜¯æš´åŠ›æ³•(O(n^3))éƒ½æ¯”ç¬¬ä¸€ç§æ–¹æ³•è¡¨ç°å¥½,æˆ‘å°±åªæœ‰é»˜å¿µå¤§åŠ›å‡ºå¥‡è¿¹äº†</p>

<p>å¹¸å¥½,copyäº†ä¸€ä¸ªæš´åŠ›ç ´è§£çš„ä»£ç ,å‘ç°æ—¶é—´è¶…æ ‡é€šä¸è¿‡,ç¨å¾®æœ‰ç‚¹å®‰æ…°</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># copyè‡ªhttps://blog.csdn.net/asd136912/article/details/78987624
</span><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="s">"""
        :type s: str
        :rtype: str
        """</span>
        <span class="n">l</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">max_length</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">palindromic</span> <span class="o">=</span> <span class="s">''</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">s</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">l</span><span class="p">):</span>
                <span class="n">is_palindromic</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">int</span><span class="p">((</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">!=</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="n">k</span> <span class="o">+</span> <span class="n">i</span><span class="p">]:</span>
                        <span class="n">is_palindromic</span> <span class="o">=</span> <span class="bp">False</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">is_palindromic</span> <span class="ow">and</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_length</span><span class="p">:</span>
                    <span class="n">max_length</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
                    <span class="n">palindromic</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">palindromic</span> <span class="o">==</span> <span class="s">''</span><span class="p">:</span>
            <span class="n">palindromic</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">palindromic</span>
</code></pre></div></div>
<blockquote>
  <p>é€šä¸è¿‡</p>
</blockquote>

<hr />
<h3 id="3manacher">3.Manacher~</h3>
<p>çœ‹è¿™ä¸ªç®—æ³•æ‹¥æœ‰ä¸“é—¨çš„å‘½å,å°±æ„Ÿè§‰ç®—æ³•ä¸ä¼šå¾ˆç®€å•
æˆ‘çœ‹çš„<a href="https://subetter.com/algorithm/manacher-algorithm.html">è¿™ç¯‡æ–‡ç« </a>,è®²çš„å¾ˆæ¸…æ¥š</p>

<p>æ–‡ç« é‡Œé™„çš„æ˜¯c++,è¿”å›å€¼æ˜¯é•¿åº¦,éœ€è¦ç¨å¾®è°ƒæ•´ä¸€ä¸‹</p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// copy from https://subetter.com/algorithm/manacher-algorithm.html</span>
<span class="cp">#include &lt;iostream&gt;  
#include &lt;cstring&gt;
#include &lt;algorithm&gt;  
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">char</span> <span class="n">s</span><span class="p">[</span><span class="mi">1000</span><span class="p">];</span>
<span class="kt">char</span> <span class="n">s_new</span><span class="p">[</span><span class="mi">2000</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">p</span><span class="p">[</span><span class="mi">2000</span><span class="p">];</span>

<span class="kt">int</span> <span class="nf">Init</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="n">s_new</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'$'</span><span class="p">;</span>
    <span class="n">s_new</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'#'</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">s_new</span><span class="p">[</span><span class="n">j</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="n">s_new</span><span class="p">[</span><span class="n">j</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'#'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">s_new</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>  <span class="c1">// åˆ«å¿˜äº†å“¦</span>

    <span class="k">return</span> <span class="n">j</span><span class="p">;</span>  <span class="c1">// è¿”å› s_new çš„é•¿åº¦</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">Manacher</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">Init</span><span class="p">();</span>  <span class="c1">// å–å¾—æ–°å­—ç¬¦ä¸²é•¿åº¦å¹¶å®Œæˆå‘ s_new çš„è½¬æ¢</span>
    <span class="kt">int</span> <span class="n">max_len</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>  <span class="c1">// æœ€é•¿å›æ–‡é•¿åº¦</span>

    <span class="kt">int</span> <span class="n">id</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">mx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">mx</span><span class="p">)</span>
            <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">id</span> <span class="o">-</span> <span class="n">i</span><span class="p">],</span> <span class="n">mx</span> <span class="o">-</span> <span class="n">i</span><span class="p">);</span>  <span class="c1">// éœ€ææ¸…æ¥šä¸Šé¢é‚£å¼ å›¾å«ä¹‰, mx å’Œ 2*id-i çš„å«ä¹‰</span>
        <span class="k">else</span>
            <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

        <span class="k">while</span> <span class="p">(</span><span class="n">s_new</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">==</span> <span class="n">s_new</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>  <span class="c1">// ä¸éœ€è¾¹ç•Œåˆ¤æ–­ï¼Œå› ä¸ºå·¦æœ‰'$',å³æœ‰'\0'</span>
            <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>

        <span class="c1">// æˆ‘ä»¬æ¯èµ°ä¸€æ­¥ iï¼Œéƒ½è¦å’Œ mx æ¯”è¾ƒï¼Œæˆ‘ä»¬å¸Œæœ› mx å°½å¯èƒ½çš„è¿œï¼Œè¿™æ ·æ‰èƒ½æ›´æœ‰æœºä¼šæ‰§è¡Œ if (i &lt; mx)è¿™å¥ä»£ç ï¼Œä»è€Œæé«˜æ•ˆç‡</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mx</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="p">{</span>
            <span class="n">id</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
            <span class="n">mx</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>

        <span class="n">max_len</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">max_len</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">max_len</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">printf</span><span class="p">(</span><span class="s">"è¯·è¾“å…¥å­—ç¬¦ä¸²ï¼š</span><span class="se">\n</span><span class="s">"</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"æœ€é•¿å›æ–‡é•¿åº¦ä¸º %d</span><span class="se">\n\n</span><span class="s">"</span><span class="p">,</span> <span class="n">Manacher</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç„¶åpythoné‡å†™ä¸€ä¸‹:</p>

<p>(é‡å†™éš¾åº¦ä¸å¤§,ä½†é‡å†™çš„æ—¶å€™,åƒä¸‡åˆ«å»çœ‹c++ä»£ç ,ä¸åŒè¯­è¨€çš„è®¡æ•°ä¹ æƒ¯å’Œä¸€äº›å°åœ°æ–¹æ…åˆ°ä¸€èµ·ç›´æ¥çˆ†ç‚¸,æ…äº†å¾ˆä¹…æˆ‘ç†æ¸…æ€è·¯å¿˜æ‰c++é¡ºç€ç®—æ³•é‡å†™çš„)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">longestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">==</span><span class="s">""</span><span class="p">:</span><span class="k">return</span> <span class="s">""</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">==</span><span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span><span class="k">return</span> <span class="n">s</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s">'#'</span><span class="o">+</span><span class="s">'#'</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">+</span><span class="s">'#'</span>
        <span class="n">lens</span><span class="p">,</span> <span class="n">max_len</span><span class="p">,</span> <span class="n">mx</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">lens</span>
        <span class="n">result</span> <span class="o">=</span> <span class="s">""</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lens</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">mx</span><span class="p">:</span>
                <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">id</span> <span class="o">-</span> <span class="n">i</span><span class="p">],</span> <span class="n">mx</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">lens</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]]:</span>
                    <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">mx</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="nb">id</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">mx</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">max_len</span><span class="p">:</span>
                <span class="n">max_len</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span> <span class="n">i</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"#"</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>æ‰§è¡Œç”¨æ—¶: 120 ms, åœ¨Longest Palindromic Substringçš„Python3æäº¤ä¸­å‡»è´¥äº†85.25% çš„ç”¨æˆ·</p>
</blockquote>

<blockquote>
  <p>å†…å­˜æ¶ˆè€—: 13.3 MB, åœ¨Longest Palindromic Substringçš„Python3æäº¤ä¸­å‡»è´¥äº†13.03% çš„ç”¨æˆ·</p>
</blockquote>

<h1 id="4æ‰«åœ°åƒ§æ³•">4.æ‰«åœ°åƒ§æ³•</h1>

<p>è‹±æ–‡è®¨è®ºåŒºé‡Œæœ‰ä¸€ä¸ª11è¡Œçš„ä»£ç ,ä½œè€…å£°ç§°æ˜¯ç”±c++æ”¹å†™æ¥çš„,ä½†åŸc++ä»£ç å·²ç»ä¸å¯è§äº†,å…³äºè¿™æ®µä»£ç æ²¡æœ‰è§£é‡Š,æˆ‘çœ‹äº†åŠå¤©ä¹Ÿæ²¡çœ‹æ‡‚</p>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><a href="https://leetcode.com/problems/longest-palindromic-substring/discuss/3190/">çœ‹æ‡‚è¿™æ®µä»£ç </a></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># copy from https://leetcode.com/problems/longest-palindromic-substring/discuss/3190/
</span><span class="k">def</span> <span class="nf">longestPalindrome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
    <span class="n">lenS</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">lenS</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="n">s</span>
    <span class="n">minStart</span><span class="p">,</span> <span class="n">maxLen</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">lenS</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">lenS</span> <span class="o">-</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">maxLen</span> <span class="o">/</span> <span class="mi">2</span><span class="p">:</span> <span class="k">break</span>
        <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span>
        <span class="k">while</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">lenS</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span> <span class="n">k</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">lenS</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">j</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]:</span>  <span class="n">k</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">k</span> <span class="o">-</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;</span> <span class="n">maxLen</span><span class="p">:</span> <span class="n">minStart</span><span class="p">,</span> <span class="n">maxLen</span> <span class="o">=</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="o">-</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="n">minStart</span><span class="p">:</span> <span class="n">minStart</span> <span class="o">+</span> <span class="n">maxLen</span><span class="p">]</span>
</code></pre></div></div>
:ET